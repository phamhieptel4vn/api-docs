"use strict";(self.webpackChunkapi_docs=self.webpackChunkapi_docs||[]).push([[1019],{3905:(t,e,n)=>{n.d(e,{Zo:()=>p,kt:()=>k});var a=n(67294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var c=a.createContext({}),u=function(t){var e=a.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},p=function(t){var e=u(t.components);return a.createElement(c.Provider,{value:e},t.children)},s="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,c=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),s=u(n),d=r,k=s["".concat(c,".").concat(d)]||s[d]||m[d]||l;return n?a.createElement(k,i(i({ref:e},p),{},{components:n})):a.createElement(k,i({ref:e},p))}));function k(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=d;var o={};for(var c in e)hasOwnProperty.call(e,c)&&(o[c]=e[c]);o.originalType=t,o[s]="string"==typeof t?t:r,i[1]=o;for(var u=2;u<l;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},19028:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>u});var a=n(87462),r=(n(67294),n(3905));const l={title:"Click-to-call",sidebar_position:7},i=void 0,o={unversionedId:"click2call",id:"click2call",title:"Click-to-call",description:"Synchronous",source:"@site/docs/click2call.md",sourceDirName:".",slug:"/click2call",permalink:"/click2call",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/click2call.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{title:"Click-to-call",sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"CDRs - Call Detail Records",permalink:"/cdr"},next:{title:"Event",permalink:"/event"}},c={},u=[{value:"Synchronous",id:"synchronous",level:2},{value:"HTTP Request",id:"http-request",level:3},{value:"URL Parameters",id:"url-parameters",level:3},{value:"Asynchronous",id:"asynchronous",level:2},{value:"HTTP Request",id:"http-request-1",level:3},{value:"URL Parameters",id:"url-parameters-1",level:3},{value:"Error",id:"error",level:2}],p={toc:u},s="wrapper";function m(t){let{components:e,...n}=t;return(0,r.kt)(s,(0,a.Z)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"synchronous"},"Synchronous"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"curl -L -X GET 'https://{{API_HOST}}/v1/click2call?ext=101&phone=0899098899' \\\n-H 'Authorization: Bearer {{TOKEN}}'\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Response tr\u1ea3 v\u1ec1:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "status": "success",\n  "call_id": "01b7d166-b564-42ec-80a1-4ad343225934"\n}\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Error Response tr\u1ea3 v\u1ec1:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "status": "fail",\n  "error": "USER_NOT_REGISTERED"\n}\n')),(0,r.kt)("p",null,"API d\xf9ng \u0111\u1ec3 th\u1ef1c hi\u1ec7n click-to-call."),(0,r.kt)("p",null,"Sau khi th\u1ef1c hi\u1ec7n click-to-call, h\u1ec7 th\u1ed1ng s\u1ebd g\u1ecdi v\xe0o s\u1ed1 extension c\u1ee7a domain, sau khi extension pickup cu\u1ed9c g\u1ecdi th\xec c\xf3 m\u1ed9t cu\u1ed9c g\u1ecdi \u0111\u1ea9y ra s\u1ed1 mobile d\u1ef1a v\xe0o parameter c\u1ee7a API."),(0,r.kt)("p",null,"N\u1ebfu Extension \u0111\xe3 login th\xec API Click-to-call Synchronous s\u1ebd ch\u1edd t\u1edbi khi extension nh\u1ea5c m\xe1y ho\u1eb7c ng\u1eaft m\xe1y."),(0,r.kt)("admonition",{title:"My tip",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"\u0110\u1ea7u s\u1ed1 hotline d\xf9ng \u0111\u1ec3 g\u1ecdi ra ngo\xe0i b\u1ea1n vui l\xf2ng li\xean h\u1ec7 team TEL4VN \u0111\u1ec3 \u0111\u01b0\u1ee3c cung c\u1ea5p v\xe0 c\xe0i \u0111\u1eb7t.\nN\u1ebfu nh\u01b0 gi\xe1 tr\u1ecb is_encode = true th\xec ph\xeda client s\u1ebd g\u1eedi phone \u0111\xe3 \u0111\u01b0\u1ee3c encode Base64 t\u1edbi API, API s\u1ebd decode v\xe0 th\u1ef1c hi\u1ec7n cu\u1ed9c g\u1ecdi.")),(0,r.kt)("h3",{id:"http-request"},"HTTP Request"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"GET https://{{API_HOST}}/v1/click2call?ext=<EXTENSION>&phone=<PHONE>")),(0,r.kt)("h3",{id:"url-parameters"},"URL Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ext"),(0,r.kt)("td",{parentName:"tr",align:null},"Extension th\u1ef1c hi\u1ec7n cu\u1ed9c g\u1ecdi"),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"phone"),(0,r.kt)("td",{parentName:"tr",align:null},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i s\u1ebd \u0111\u01b0\u1ee3c g\u1ecdi t\u1edbi"),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"src_cid_name"),(0,r.kt)("td",{parentName:"tr",align:null},"T\xean hi\u1ec3n th\u1ecb tr\xean m\xe1y extension. Default: Click2Call"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"src_cid_number"),(0,r.kt)("td",{parentName:"tr",align:null},"S\u1ed1 hi\u1ec3n th\u1ecb tr\xean m\xe1y extension. Default: S\u1ed1 c\u1ee7a extension"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"dest_cid_name"),(0,r.kt)("td",{parentName:"tr",align:null},"T\xean c\u1ee7a s\u1ed1 \u0111i\u1ec7n tho\u1ea1i s\u1ebd ch\xe8n v\xe0o b\u1ea3n tin SIP"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"dest_cid_number"),(0,r.kt)("td",{parentName:"tr",align:null},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i s\u1ebd ch\xe8n v\xe0o b\u1ea3n tin SIP"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"auto_answer"),(0,r.kt)("td",{parentName:"tr",align:null},"T\u1ef1 \u0111\u1ed9ng nh\u1ea5c m\xe1y ph\xeda extension. Default: false"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"hotline"),(0,r.kt)("td",{parentName:"tr",align:null},"\u0110\u1ea7u s\u1ed1 hotline \u0111\u1ec3 th\u1ef1c hi\u1ec7n cu\u1ed9c g\u1ecdi ra ngo\xe0i"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"is_encode"),(0,r.kt)("td",{parentName:"tr",align:null},"M\xe3 ho\xe1 s\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\u1ea7u v\xe0o"),(0,r.kt)("td",{parentName:"tr",align:null},"false")))),(0,r.kt)("h2",{id:"asynchronous"},"Asynchronous"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"curl -L -X GET 'https://{{API_HOST}}/v1/click2call/async?ext=101&phone=0899098899' \\\n-H 'Authorization: Bearer {{TOKEN}}'\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Response tr\u1ea3 v\u1ec1:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "status": "success",\n  "call_id": "01b7d166-b564-42ec-80a1-4ad343225934"\n}\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Error Response tr\u1ea3 v\u1ec1:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "status": "fail",\n  "message": "User not registered extension with Softphone or IP Phone",\n  "error": "USER_NOT_REGISTERED"\n}\n')),(0,r.kt)("p",null,"API d\xf9ng \u0111\u1ec3 th\u1ef1c hi\u1ec7n click-to-call."),(0,r.kt)("p",null,"Sau khi th\u1ef1c hi\u1ec7n click-to-call, h\u1ec7 th\u1ed1ng s\u1ebd g\u1ecdi v\xe0o s\u1ed1 extension c\u1ee7a domain, sau khi extension pickup cu\u1ed9c g\u1ecdi th\xec c\xf3 m\u1ed9t cu\u1ed9c g\u1ecdi \u0111\u1ea9y ra s\u1ed1 mobile d\u1ef1a v\xe0o parameter c\u1ee7a API."),(0,r.kt)("p",null,"API Click-to-call Asynchronous s\u1ebd kh\xf4ng ch\u1edd t\u1edbi khi extension nh\u1ea5c m\xe1y ho\u1eb7c ng\u1eaft m\xe1y, m\xe0 s\u1ebd tr\u1ea3 v\u1ec1 call_id n\u1ebfu extension \u0111\xe3 login v\xe0 tr\u1ea3 v\u1ec1 m\xe3 l\u1ed7i n\u1ebfu extension kh\xf4ng login."),(0,r.kt)("admonition",{title:"My tip",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"\u0110\u1ea7u s\u1ed1 hotline d\xf9ng \u0111\u1ec3 g\u1ecdi ra ngo\xe0i b\u1ea1n vui l\xf2ng li\xean h\u1ec7 team TEL4VN \u0111\u1ec3 \u0111\u01b0\u1ee3c cung c\u1ea5p v\xe0 c\xe0i \u0111\u1eb7t.\nN\u1ebfu nh\u01b0 gi\xe1 tr\u1ecb is_encode = true th\xec ph\xeda client s\u1ebd g\u1eedi phone \u0111\xe3 \u0111\u01b0\u1ee3c encode Base64 t\u1edbi API, API s\u1ebd decode v\xe0 th\u1ef1c hi\u1ec7n cu\u1ed9c g\u1ecdi.")),(0,r.kt)("h3",{id:"http-request-1"},"HTTP Request"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"GET https://{{API_HOST}}/v1/click2call/async?ext=<EXTENSION>&phone=<PHONE>")),(0,r.kt)("h3",{id:"url-parameters-1"},"URL Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ext"),(0,r.kt)("td",{parentName:"tr",align:null},"Extension th\u1ef1c hi\u1ec7n cu\u1ed9c g\u1ecdi"),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"phone"),(0,r.kt)("td",{parentName:"tr",align:null},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i s\u1ebd \u0111\u01b0\u1ee3c g\u1ecdi t\u1edbi"),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"src_cid_name"),(0,r.kt)("td",{parentName:"tr",align:null},"T\xean hi\u1ec3n th\u1ecb tr\xean m\xe1y extension. Default: Click2Call"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"src_cid_number"),(0,r.kt)("td",{parentName:"tr",align:null},"S\u1ed1 hi\u1ec3n th\u1ecb tr\xean m\xe1y extension. Default: S\u1ed1 c\u1ee7a extension"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"dest_cid_name"),(0,r.kt)("td",{parentName:"tr",align:null},"T\xean c\u1ee7a s\u1ed1 \u0111i\u1ec7n tho\u1ea1i s\u1ebd ch\xe8n v\xe0o b\u1ea3n tin SIP"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"dest_cid_number"),(0,r.kt)("td",{parentName:"tr",align:null},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i s\u1ebd ch\xe8n v\xe0o b\u1ea3n tin SIP"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"auto_answer"),(0,r.kt)("td",{parentName:"tr",align:null},"T\u1ef1 \u0111\u1ed9ng nh\u1ea5c m\xe1y ph\xeda extension. Default: false"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"hotline"),(0,r.kt)("td",{parentName:"tr",align:null},"\u0110\u1ea7u s\u1ed1 hotline \u0111\u1ec3 th\u1ef1c hi\u1ec7n cu\u1ed9c g\u1ecdi ra ngo\xe0i"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"is_encode"),(0,r.kt)("td",{parentName:"tr",align:null},"M\xe3 ho\xe1 s\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\u1ea7u v\xe0o"),(0,r.kt)("td",{parentName:"tr",align:null},"false")))),(0,r.kt)("h2",{id:"error"},"Error"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"USER_BUSY"),(0,r.kt)("td",{parentName:"tr",align:null},"Ng\u01b0\u1eddi d\xf9ng hi\u1ec7n t\u1ea1i \u0111ang b\u1eadn")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"USER_NOT_REGISTERED"),(0,r.kt)("td",{parentName:"tr",align:null},"Ng\u01b0\u1eddi d\xf9ng ch\u01b0a login Softphone ho\u1eb7c IP Phone")))))}m.isMDXComponent=!0}}]);